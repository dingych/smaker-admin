{"remainingRequest":"D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\src\\api\\login.js","dependencies":[{"path":"D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\src\\api\\login.js","mtime":1557020317031},{"path":"D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import request from '@/router/axios';\nvar scope = 'server';\nexport var loginByUsername = function loginByUsername(username, password, code, randomStr) {\n  var grant_type = 'password';\n  return request({\n    url: '/auth/oauth/token',\n    headers: {\n      isToken: false,\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\n    },\n    method: 'post',\n    params: {\n      username: username,\n      password: password,\n      randomStr: randomStr,\n      code: code,\n      grant_type: grant_type,\n      scope: scope\n    }\n  });\n};\nexport var refreshToken = function refreshToken(refresh_token) {\n  var grant_type = 'refresh_token';\n  return request({\n    url: '/auth/oauth/token',\n    headers: {\n      'isToken': false,\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\n    },\n    method: 'post',\n    params: {\n      refresh_token: refresh_token,\n      grant_type: grant_type,\n      scope: scope\n    }\n  });\n};\nexport var loginByMobile = function loginByMobile(mobile, code) {\n  var grant_type = 'mobile';\n  return request({\n    url: '/auth/mobile/token/sms',\n    headers: {\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\n    },\n    method: 'post',\n    params: {\n      mobile: 'SMS@' + mobile,\n      code: code,\n      grant_type: grant_type\n    }\n  });\n};\nexport var loginBySocial = function loginBySocial(state, code) {\n  var grant_type = 'mobile';\n  return request({\n    url: '/auth/mobile/token/social',\n    headers: {\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\n    },\n    method: 'post',\n    params: {\n      mobile: state + '@' + code,\n      grant_type: grant_type\n    }\n  });\n};\nexport var getUserInfo = function getUserInfo() {\n  return request({\n    url: '/admin/user/info',\n    method: 'get'\n  });\n};\nexport var logout = function logout() {\n  return request({\n    url: '/auth/oauth/removeToken',\n    method: 'get'\n  });\n};",{"version":3,"sources":["D:\\work\\工作\\个人\\个人项目\\rzl-cloud\\smaker-admin\\src\\api\\login.js"],"names":["request","scope","loginByUsername","username","password","code","randomStr","grant_type","url","headers","isToken","method","params","refreshToken","refresh_token","loginByMobile","mobile","loginBySocial","state","getUserInfo","logout"],"mappings":"AACA,OAAOA,OAAP,MAAoB,gBAApB;AACA,IAAMC,KAAK,GAAG,QAAd;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD,EAAWC,QAAX,EAAqBC,IAArB,EAA2BC,SAA3B,EAAyC;AACtE,MAAMC,UAAU,GAAG,UAAnB;AAEA,SAAOP,OAAO,CAAC;AACbQ,IAAAA,GAAG,EAAE,mBADQ;AAEbC,IAAAA,OAAO,EAAE;AACPC,MAAAA,OAAO,EAAC,KADD;AAEP,uBAAiB;AAFV,KAFI;AAMbC,IAAAA,MAAM,EAAE,MANK;AAObC,IAAAA,MAAM,EAAE;AAAET,MAAAA,QAAQ,EAARA,QAAF;AAAYC,MAAAA,QAAQ,EAARA,QAAZ;AAAsBE,MAAAA,SAAS,EAATA,SAAtB;AAAiCD,MAAAA,IAAI,EAAJA,IAAjC;AAAuCE,MAAAA,UAAU,EAAVA,UAAvC;AAAmDN,MAAAA,KAAK,EAALA;AAAnD;AAPK,GAAD,CAAd;AASD,CAZM;AAcP,OAAO,IAAMY,YAAY,GAAG,SAAfA,YAAe,CAACC,aAAD,EAAmB;AAC7C,MAAMP,UAAU,GAAG,eAAnB;AACA,SAAOP,OAAO,CAAC;AACbQ,IAAAA,GAAG,EAAE,mBADQ;AAEbC,IAAAA,OAAO,EAAE;AACP,iBAAW,KADJ;AAEP,uBAAiB;AAFV,KAFI;AAMbE,IAAAA,MAAM,EAAE,MANK;AAObC,IAAAA,MAAM,EAAE;AAAEE,MAAAA,aAAa,EAAbA,aAAF;AAAiBP,MAAAA,UAAU,EAAVA,UAAjB;AAA6BN,MAAAA,KAAK,EAALA;AAA7B;AAPK,GAAD,CAAd;AASD,CAXM;AAaP,OAAO,IAAMc,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAASX,IAAT,EAAkB;AAC7C,MAAME,UAAU,GAAG,QAAnB;AACA,SAAOP,OAAO,CAAC;AACbQ,IAAAA,GAAG,EAAE,wBADQ;AAEbC,IAAAA,OAAO,EAAE;AACP,uBAAiB;AADV,KAFI;AAKbE,IAAAA,MAAM,EAAE,MALK;AAMbC,IAAAA,MAAM,EAAE;AAAEI,MAAAA,MAAM,EAAE,SAASA,MAAnB;AAA2BX,MAAAA,IAAI,EAAEA,IAAjC;AAAuCE,MAAAA,UAAU,EAAVA;AAAvC;AANK,GAAD,CAAd;AAQD,CAVM;AAYP,OAAO,IAAMU,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAQb,IAAR,EAAiB;AAC5C,MAAME,UAAU,GAAG,QAAnB;AACA,SAAOP,OAAO,CAAC;AACbQ,IAAAA,GAAG,EAAE,2BADQ;AAEbC,IAAAA,OAAO,EAAE;AACP,uBAAiB;AADV,KAFI;AAKbE,IAAAA,MAAM,EAAE,MALK;AAMbC,IAAAA,MAAM,EAAE;AAAEI,MAAAA,MAAM,EAAEE,KAAK,GAAG,GAAR,GAAcb,IAAxB;AAA8BE,MAAAA,UAAU,EAAVA;AAA9B;AANK,GAAD,CAAd;AAQD,CAVM;AAYP,OAAO,IAAMY,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC/B,SAAOnB,OAAO,CAAC;AACbQ,IAAAA,GAAG,EAAE,kBADQ;AAEbG,IAAAA,MAAM,EAAE;AAFK,GAAD,CAAd;AAID,CALM;AAOP,OAAO,IAAMS,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,SAAOpB,OAAO,CAAC;AACbQ,IAAAA,GAAG,EAAE,yBADQ;AAEbG,IAAAA,MAAM,EAAE;AAFK,GAAD,CAAd;AAID,CALM","sourcesContent":["\r\nimport request from '@/router/axios'\r\nconst scope = 'server'\r\n\r\nexport const loginByUsername = (username, password, code, randomStr) => {\r\n  const grant_type = 'password'\r\n\r\n  return request({\r\n    url: '/auth/oauth/token',\r\n    headers: {\r\n      isToken:false,\r\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\r\n    },\r\n    method: 'post',\r\n    params: { username, password, randomStr, code, grant_type, scope }\r\n  })\r\n}\r\n\r\nexport const refreshToken = (refresh_token) => {\r\n  const grant_type = 'refresh_token'\r\n  return request({\r\n    url: '/auth/oauth/token',\r\n    headers: {\r\n      'isToken': false,\r\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg==',\r\n    },\r\n    method: 'post',\r\n    params: { refresh_token, grant_type, scope }\r\n  })\r\n}\r\n\r\nexport const loginByMobile = (mobile, code) => {\r\n  const grant_type = 'mobile'\r\n  return request({\r\n    url: '/auth/mobile/token/sms',\r\n    headers: {\r\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\r\n    },\r\n    method: 'post',\r\n    params: { mobile: 'SMS@' + mobile, code: code, grant_type }\r\n  })\r\n}\r\n\r\nexport const loginBySocial = (state, code) => {\r\n  const grant_type = 'mobile'\r\n  return request({\r\n    url: '/auth/mobile/token/social',\r\n    headers: {\r\n      'Authorization': 'Basic c21ha2VyOnNtYWtlcg=='\r\n    },\r\n    method: 'post',\r\n    params: { mobile: state + '@' + code, grant_type }\r\n  })\r\n}\r\n\r\nexport const getUserInfo = () => {\r\n  return request({\r\n    url: '/admin/user/info',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const logout = () => {\r\n  return request({\r\n    url: '/auth/oauth/removeToken',\r\n    method: 'get'\r\n  })\r\n}\r\n"]}]}